<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <title>Facelet Title</title>
  </h:head>
  <h:body>
    <div>
      <header>
        <h1>CakeWeb</h1>
      </header>
      <div>
        <h2>Cadastro de produto</h2>
        <h:form prependId="false"> 
          <p>
            <h:outputLabel value="Nome" />
            <h:inputText id="txtNome" value="#{produtoBean.nome}"
                         required="true" requiredMessage="Preencher o nome" />
            <span><h:message for="txtNome" /></span>
          </p>
          <p>
            <h:outputLabel value="Descricao" />
            <h:inputTextarea value="#{produtoBean.descricao}" />
          </p>
          <p>
            <h:outputLabel value="Categorias" />
            <h:selectManyCheckbox value="#{produtoBean.idsCategorias}">
              <f:selectItems value="#{categoriaBean.lista}" var="cat"
                             itemValue="#{cat.id}" 
                             itemLabel="#{cat.nome}" />
              <f:convertNumber />
            </h:selectManyCheckbox>
          </p>
          <p>
            <h:outputLabel value="PreÃ§o" />
            <h:inputText value="#{produtoBean.preco}">
              <f:convertNumber minFractionDigits="2" />
            </h:inputText>
          </p>
          <p>

            <h:commandButton value="Salvar"
                             action="#{produtoBean.salvar()}" />
          </p>
        </h:form>
      </div>
    </div>
  </h:body>
</html>

